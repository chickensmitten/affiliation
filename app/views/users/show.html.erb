<h2><%= @user.username %>'s Profile</h2>

<p>
  <% if logged_in? && @user != current_user %>
    <% if !current_user.followings.include?(@user) %>
      <%= link_to "Follow", user_relationships_path(@user), method: 'post' %>
    <% else %>   
      <%= link_to "Share", user_relationship_path(@user, current_user) %> | 
      <%= link_to "Unfollow", user_relationship_path(@user, current_user), method: 'delete' %>
    <% end %>
  <% else %>
  <% end %>
</p>

<% @posts.each do |post| %>
  <%= render 'posts/post', post: post %>
<% end if @posts.present? %>

<%= render 'shared/will_paginate' if @posts.present?  %>


<textarea id="fe_text" cols="50" rows="3">Copy me!</textarea>
<p class="align-right"><button id="d_clip_button" class="my_clip_button" title="Click me to copy to clipboard." data-clipboard-target="fe_text" data-clipboard-text="Default clipboard text from attribute">Copy To Clipboard...</button></p>

<script>

// Configure the root ZeroClipboard object
ZeroClipboard.setDefaults({

  // The path must be relative to the PAGE, NOT to the current AMD module!
  // Or, it could be an absolute path on the domain, e.g.:
  //  - "/javascripts/ZeroClipboard.swf"
  // Or, it could be an absolute URL to anywhere, e.g.:
  //  - "//" + window.location.host + "/javascripts/ZeroClipboard.swf"
  //  - "//localhost:3000/javascripts/ZeroClipboard.swf"
  //  - "//my.awesomecdn.com/javascripts/ZeroClipboard.swf"
  //  - "http://my.awesomecdn.com/javascripts/ZeroClipboard.swf"
  moviePath: "/assets/ZeroClipboard.swf"

});

$(document).ready(function() {

  var clip = new ZeroClipboard($("#d_clip_button"));

  clip.on("noFlash", function (client) {
    $(".demo-area").hide();
    debugstr("Your browser has no Flash.");
  });

  clip.on("wrongFlash", function (client, args) {
    $(".demo-area").hide();
  });
});
</script>
